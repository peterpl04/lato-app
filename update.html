<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <title>Atualizando</title>
  <style>
    body {
      margin: 0;
      font-family: Inter, sans-serif;
      background: #0f172a;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .bar {
      width: 80%;
      height: 8px;
      background: #1e293b;
      border-radius: 4px;
      overflow: hidden;
      margin-top: 20px;
    }

    .bar-fill {
      height: 100%;
      width: 0%;
      background: #2563eb;
      transition: width 0.2s;
    }
  </style>
</head>

<body>

  <h3>Atualizando LatoApps</h3>
  <p id="status">Preparando…</p>

  <div class="bar">
    <div class="bar-fill" id="bar"></div>
  </div>

  <script>
    window.electron.onUpdateAvailable(version => {
      document.getElementById("status").innerText =
        "Nova versão " + version;
    });

    window.electron.onUpdateProgress(data => {
      document.getElementById("bar").style.width =
        data.percent + "%";

      document.getElementById("status").innerText =
        `Baixando… ${data.percent}%`;
    });

    window.electron.onUpdateDone(() => {
      document.getElementById("status").innerText =
        "Finalizando…";
    });
  </script>

</body>

</html>
